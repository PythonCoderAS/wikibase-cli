#!/usr/bin/env node
const program = require('../lib/program')

program
.option('-t, --type', 'include properties types')
.option('-r, --reset', 'clear properties cache')
.process('props')

const getLangProps = require('../lib/get_lang_props')
const resetProperties = require('../lib/reset_properties')

if (program.reset) return resetProperties()

const { lang, type:includeTypes } = program

const writeResultsToStdout = function (results) {
  console.log(JSON.stringify(results, null, 2))
}

getLangProps(lang, includeTypes)
.then(writeResultsToStdout)
.catch(console.error)
